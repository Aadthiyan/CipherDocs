# ============================================================================
# CyborgDB Backend - Environment Configuration Template
# ============================================================================
# Copy this file to .env and fill in the values for your environment
# IMPORTANT: Never commit .env file to version control!
# ============================================================================

# ============================================================================
# üî¥ REQUIRED VARIABLES (Application will not start without these)
# ============================================================================

# DATABASE CONFIGURATION
# PostgreSQL connection string for Neon or local PostgreSQL
# Format: postgresql://username:password@host:port/dbname?sslmode=require
DATABASE_URL=postgresql://neondb_owner:npg_VY0ukOzR8jmK@ep-shy-tree-ah0y8hv8-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# JWT AUTHENTICATION
# MUST be at least 32 characters long for security
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=your_secure_random_jwt_secret_at_least_32_chars_change_this_now

# MASTER ENCRYPTION KEY
# Used to encrypt tenant-specific encryption keys
# MUST be at least 32 characters long
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
MASTER_ENCRYPTION_KEY=your_master_encryption_key_at_least_32_chars_change_this

# ============================================================================
# üü° IMPORTANT VARIABLES (Have defaults but should be customized)
# ============================================================================

# ENVIRONMENT
# Values: development, staging, production
# Affects logging, debug mode, and security settings
ENVIRONMENT=development

# DEBUG MODE
# Enable Flask debugger and detailed error messages
# NEVER set to true in production
DEBUG=true

# CYBORGDB INTEGRATION
# CyborgDB API key for document search and analysis
# Get from: https://dashboard.cyborgdb.com/api-keys
CYBORGDB_API_KEY=your_cyborgdb_api_key_here

# CyborgDB API endpoint
# Production: https://api.cyborg.co
# Development: http://localhost:8002 (if running locally)
CYBORGDB_ENDPOINT=https://api.cyborg.co

# CyborgDB request timeout in seconds
CYBORGDB_TIMEOUT=30

# ============================================================================
# üü¢ OPTIONAL VARIABLES (Have safe defaults)
# ============================================================================

# SERVER CONFIGURATION
HOST=0.0.0.0
PORT=8000

# DATABASE CONNECTION POOL
# Adjust based on your expected concurrent users
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_ECHO=false

# REDIS CACHING (Optional)
# Leave empty to disable caching
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=false

# JWT CONFIGURATION
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
REFRESH_TOKEN_EXPIRATION_DAYS=30

# EMBEDDING SERVICE
# URL of the embedding service (can be local or remote)
EMBEDDING_SERVICE_URL=http://localhost:8001
EMBEDDING_DIMENSION=384
HUGGINGFACE_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2

# CORS CONFIGURATION
# Comma-separated list of allowed origins
# Local development: http://localhost:3000
# Production: https://yourdomain.com
CORS_ORIGINS=http://localhost:3000

# LOGGING CONFIGURATION
LOG_LEVEL=INFO
# Values: DEBUG, INFO, WARNING, ERROR, CRITICAL

# RATE LIMITING
RATE_LIMIT_ENABLED=true
MAX_LOGIN_ATTEMPTS=5
RATE_LIMIT_WINDOW_SECONDS=300

# DOCUMENT PROCESSING
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=pdf,docx,txt,pptx,xlsx
CHUNK_SIZE=512
CHUNK_OVERLAP=50

# SEARCH CONFIGURATION
DEFAULT_TOP_K=10
MAX_TOP_K=100
SEARCH_TIMEOUT_SECONDS=30

# STORAGE CONFIGURATION
# Backend: local, s3, minio
# local = store on server filesystem
# s3 = store on AWS S3
# minio = store on MinIO (self-hosted S3-compatible)
STORAGE_BACKEND=local
LOCAL_STORAGE_PATH=./storage/documents

# S3 STORAGE (Required if STORAGE_BACKEND=s3)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_STORAGE_BUCKET_NAME=your_bucket_name
# AWS_STORAGE_REGION=us-east-1

# MINIO STORAGE (Required if STORAGE_BACKEND=minio)
# MINIO_ENDPOINT=minio.example.com:9000
# MINIO_ACCESS_KEY=minioadmin
# MINIO_SECRET_KEY=minioadmin
# MINIO_BUCKET_NAME=documents

# ============================================================================
# üìù ENVIRONMENT-SPECIFIC CONFIGURATION
# ============================================================================

# DEVELOPMENT (.env.development)
# - DEBUG=true
# - LOG_LEVEL=DEBUG
# - ENVIRONMENT=development
# - Database: local or dev Neon project

# STAGING (.env.staging)
# - DEBUG=false
# - LOG_LEVEL=INFO
# - ENVIRONMENT=staging
# - Database: staging Neon project
# - Additional security measures

# PRODUCTION (.env.production)
# - DEBUG=false
# - LOG_LEVEL=WARNING
# - ENVIRONMENT=production
# - Database: production Neon project
# - All secrets must be strong and unique
# - No default values for sensitive variables

# ============================================================================
# üîê SECURITY GUIDELINES
# ============================================================================
# 1. NEVER commit .env file to Git
# 2. NEVER log or print sensitive variables
# 3. Rotate secrets regularly in production
# 4. Use strong, random values (min 32 characters)
# 5. Use different secrets for each environment
# 6. Store secrets in environment variables, not files in production
# 7. Consider using a secrets management tool (AWS Secrets Manager, etc.)
# 8. Audit who has access to .env files
